<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.uilangage.sns.like.repository.LikeRepository">
	<insert id="addLike" parameterType="map">
		INSERT INTO
			`like`
			(
				`postId`
				, `userId`
			)
		VALUE
			(
				#{postId}
				, #{userId}
			)	
	</insert>	
	
	<select id="selectCountLike" parameterType="int"
	 resultType="int">
		SELECT
			count(*)
		FROM
			`like`
		WHERE
			`postId` = #{postId}		
	
	</select>
	
	<select id="selectCountLike" parameterType="int"
	 resultType="int">
		SELECT
			count(*)
		FROM
			`like`
		WHERE
			`postId` = #{postId}		
		AND
			`userId` = #{userId}
	</select>
	
	
</mapper>